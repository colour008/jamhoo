---
title: Cè¯­è¨€å­¦ä¹ ç¬”è®°ğŸ’
date: 2024-12-01 12:00:00
updated: 2024-12-01 12:00:00
tag: [Cè¯­è¨€,å­¦ä¹ ç¬”è®°]
categories: [ç¼–ç¨‹,Cè¯­è¨€]
cover:
description: Cè¯­è¨€å­¦ä¹ ç¬”è®°ğŸ’
swiper_index: 3
sticky: 3
---

------

# ä¸€ã€æ–¹æ³•ç±»

## 1. å­—ç¬¦ä¸²ç¿»è½¬å®ç°æ–¹æ³•

> æ–¹æ³• 1ï¼š

```cpp
/* æ„é€ å‡½æ•°1ï¼Œä¼ å…¥å­—ç¬¦ä¸²æŒ‡é’ˆï¼Œè®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ï¼Œé€šè¿‡æš‚å­˜å˜é‡cå°†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªã€ç¬¬äºŒä¸ªå’Œå€’æ•°ç¬¬äºŒä¸ª...è¿›è¡Œäº¤æ¢ã€‚ å¦‚æœæ˜¯å­—ç¬¦é•¿åº¦æ˜¯å¶æ•°ï¼Œäº¤æ¢1/2çš„é•¿åº¦åˆšå¥½ï¼›å¦‚æœæ˜¯å¥‡æ•°ï¼Œä¹Ÿæ˜¯äº¤æ¢1/2çš„é•¿åº¦ï¼Œæœ€ä¸­é—´çš„å­—ç¬¦æ— éœ€è°ƒæ¢ */
void function1(char *str)
{
	char c;
	int len = strlen(str);
	int j = len - 1; // å–len-1çš„åŸå› æ˜¯ï¼Œæ•°ç»„ä¸‹æ ‡ç´¢å¼•ä»0å¼€å§‹ï¼Œåˆ°len-1ç»“æŸ
	int i = 0;
	while (i < len / 2)
	{
		c = str[i];
		str[i] = str[j];
		str[j] = c;
		i++;
		j--;
	}
}
```

> æ–¹æ³• 2ï¼š

```cpp
/* æ„é€ å‡½æ•°2ï¼Œä¼ å…¥å­—ç¬¦ä¸²æŒ‡é’ˆï¼Œè®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ï¼Œé€šè¿‡æš‚å­˜å˜é‡cå°†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªã€ç¬¬äºŒä¸ªå’Œå€’æ•°ç¬¬äºŒä¸ª...è¿›è¡Œäº¤æ¢ã€‚ç”¨iä»£è¡¨å¼€å§‹ç´¢å¼•è§’æ ‡ï¼Œjä»£è¡¨ç´¢å¼•æœ«å°¾è§’æ ‡ï¼Œåªè¦iå°äºjå°±å°†å¯¹åº”çš„å€¼è¿›è¡Œäº’æ¢ï¼ŒåŒæ ·å®ç°ç¿»è½¬ */
void function2(char *str)
{
	char c;
	int len = strlen(str);
	int j = len - 1; // å–len-1çš„åŸå› æ˜¯ï¼Œæ•°ç»„ä¸‹æ ‡ç´¢å¼•ä»0å¼€å§‹ï¼Œåˆ°len-1ç»“æŸ
	int i = 0;
	while (i < j)
	{
		c = *(str + i);
		*(str + i) = *(str + j);
		*(str + j) = c;
		i++;
		j--;
	}
}
```

## 2. è‡ªå»ºæ–¹æ³•å®ç°å¤§æ•´æ•°æ±‚å’Œ

> åˆçº§ç‰ˆ

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
//å®šä¹‰æœ€å¤§å€¼å‡½æ•°
int Max(int x, int y)
{
    return (x >= y) ? x : y;
}
//å®šä¹‰æœ€å°å€¼å‡½æ•°
int Min(int x, int y)
{
    return (x <= y) ? x : y;
}
//å®šä¹‰å­—ç¬¦ä¸²ç¿»è½¬å‡½æ•°
char *reverseStr(char *str)
{
    int i = 0;
    int j = strlen(str) - 1;
    char temp;
    while (i < j)
    {
        temp = *(str + i);
        *(str + i) = *(str + j);
        *(str + j) = temp;
        i++;
        j--;
    }
    return str;
}

int main()
{
    int Max(int x, int y);
    int Min(int x, int y);
    char m[99], n[99];
    printf("è¯·éšæ„è¾“å…¥ä¸¤ä¸ªå¤§çš„æ•´æ•°è¿›è¡Œæ±‚å’Œï¼š\n");
    scanf("%s%s", m, n);
    printf("ä½ è¾“å…¥çš„ä¸¤ä¸ªæ•°ä¸ºï¼š\nNum1=%s\nNum2=%s\næ±‚å’Œå€¼ä¸ºï¼š", m, n);
    //æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦,é•¿åº¦å·®åŠæœ€å¤§é•¿åº¦
    int x = strlen(m), y = strlen(n);
    int z = Max(x, y) - Min(x, y);
    int len = Max(x, y);
    //å­—ç¬¦ä¸²ç¿»è½¬
    reverseStr(m);
    reverseStr(n);
    //å°†ç¿»è½¬åçš„å­—ç¬¦ä¸²è½¬æ¢æˆæ•´å‹æ•°ç»„ï¼Œå¹¶å¯¹é•¿åº¦è¾ƒçŸ­çš„æ•°ç»„åé¢è¡¥0
    int i, j;
    int num_m[99] = {0}, num_n[99] = {0};
    if (x < y)
    {
        for (i = 0; i < len; i++)
        {
            num_m[i] = m[i] - '0';
            num_n[i] = n[i] - '0';
        }
        for (j = len - 1; j >= len - z; j--)
        {
            num_m[j] = 0;
        }
    }
    else if (x > y)
    {
        for (i = 0; i < len; i++)
        {
            num_m[i] = m[i] - '0';
            num_n[i] = n[i] - '0';
        }
        for (j = len - 1; j >= len - z; j--)
        {
            num_n[j] = 0;
        }
    }
    else
    {
        for (i = 0; i < len; i++)
        {
            num_m[i] = m[i] - '0';
            num_n[i] = n[i] - '0';
        }
    }    
    //ä»ç¬¬ä¸€ä½éå†ä¸¤ä¸ªæ•°ç»„ï¼Œå¹¶ç›¸åŠ 
    int sum[100] = {0};
    int temp[100];
    int carry = 0;
    for (i = 0; i <= len; i++)
    {
        temp[i] = num_m[i] + num_n[i] + carry; //ä¸¤æ•°ç›¸åŠ åè¿›è¡Œæš‚å­˜
        carry = temp[i] / 10; //å¯¹æš‚å­˜å€¼é™¤10ï¼Œå¦‚æœå¤§äº10ï¼Œåˆ™ä¸‹ä¸ªæš‚å­˜å€¼+1ï¼Œå¦åˆ™+0
        if (temp[i] >= 10)//å¦‚æœæš‚å­˜å€¼>=10ï¼Œåˆ™å¯¹æš‚å­˜å€¼å–æ¨¡èµ‹ç»™æœ€ç»ˆå€¼ï¼Œå¦åˆ™ç›´æ¥èµ‹å€¼
        {
            sum[i] = temp[i] % 10;
        }
        else
        {
            sum[i] = temp[i];
        }
    }
    // é€†åºè¾“å‡º
    if (sum[len] == 0) //å¦‚æœæœ€åä¸€ä½ä¸º0ï¼Œåˆ™åœ¨ç¿»è½¬è¾“å‡ºæ—¶ä¸å–æœ€åä¸€ä½ï¼Œå¦åˆ™å–æœ€åä¸€ä½
    {
        for (i = len - 1; i >= 0; i--)
        {
            printf("%d", sum[i]);
        }
    }
    else
    {
        for (i = len; i >= 0; i--)
        {
            printf("%d", sum[i]);
        }
    }
    printf("\n");
    system("pause");
    return 0;
}
```

> è¿›é˜¶ç‰ˆ

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void overturn(char *string, int len)
{
    int left = 0;
    char temp;
    while (left < len - 1)
    {
        temp = string[left];
        string[left] = string[len - 1];
        string[len - 1] = temp;
        left++;
        len--;
    }
}

int max(int a, int b)
{
    return a >= b ? a : b;
}

int min(int a, int b)
{
    return a <= b ? a : b;
}

int main()
{
    void overturn(char *string, int len);
    // å£°æ˜å’Œè¾“å…¥å­—ç¬¦ä¸²
    char a[100], b[100];
    scanf("%s%s", a, b);
    // å­—ç¬¦ä¸²ç¿»è½¬
    int len_a = strlen(a);
    int len_b = strlen(b);
    overturn(a, len_a);
    overturn(b, len_b);
    // å­—ç¬¦ä¸²è½¬æ•°ç»„ï¼Œè¾ƒçŸ­ä¸€ä¸ªæ•°ç»„è¡¥å…¨0
    int num_a[100], num_b[100];
    int len_num = max(len_a, len_b);
    int i;
    for (i = 0; i < len_num; i++) // å­—ç¬¦ä¸²è½¬æ•°ç»„
    {
        num_a[i] = a[i] - '0';
        num_b[i] = b[i] - '0';
    }

    if (max(len_a, len_b) - min(len_a, len_b) != 0) // è®¡ç®—é•¿åº¦å·®ï¼Œç”¨äºè®¡è¡¥å…¨0çš„ä¸ªæ•°
    {

        for (i = min(len_a, len_b); i < len_num; i++)
        {
            if (len_a > len_b)
            {
                num_b[i] = 0;
            }
            else
            {
                num_a[i] = 0;
            }
        }
    }

    int sum[101];  // å£°æ˜å’Œæ•°ç»„ï¼Œå¤šä¸€ä½æ˜¯ä»¥é˜²æœ€åè¿›ä½å¤šä¸€ä½
    int temp = 0;  // æš‚å­˜æ¯ä½æ•°ç›¸åŠ ä¹‹å’Œï¼Œä¾¿äºåç»­å¤„ç†
    int carry = 0; // è¿›ä½å€¼
    for (i = 0; i < len_num; i++)
    {
        temp = num_a[i] + num_b[i] + carry;
        carry = temp / 10;
        sum[i] = temp % 10;
    }

    if (carry != 0) // åˆ¤æ–­è¿›ä½å€¼æ˜¯å¦æºå¸¦å€¼ï¼Œå¦‚æœæºå¸¦çš„è¯ï¼Œéœ€åœ¨è¾“å‡ºçš„æ—¶å€™å¤šè¿›ä¸€ä½ä¸”å€¼ä¸º1
    {
        sum[len_num] = 1;
        for (i = len_num; i >= 0; i--)
        {
            printf("%d", sum[i]);
        }
    }
    else
    {
        for (i = len_num - 1; i >= 0; i--)
        {
            printf("%d", sum[i]);
        }
    }

    printf("\n");
    system("pause");
    return 0;
}
```

## 3. å–ä¸€ä¸ªå¤šä½æ•°çš„æ¯ä½ä¸Šæ•°å€¼çš„æ–¹æ³•

```cpp
int m;//å‡å¦‚mæ˜¯ä¸€ä¸ªäº”ä½æ•°
int g, s, b, q, w;
	g = m / 1 % 10;//ä¸ªä½
	s = m / 10 % 10;//åä½
	b = m / 100 % 10;//ç™¾ä½
	q = m / 1000 % 10;//åƒä½
	w = m / 10000 % 10;//ä¸‡ä½
	//....ä»¥æ­¤ç±»æ¨ 
```

## 4. é€’å½’ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—

```cpp
#include <stdio.h>
#include <stdlib.h>

int fibonacci(int index)    // index è¡¨ç¤ºæ±‚æ•°åˆ—ä¸­ç¬¬ index ä¸ªä½ç½®ä¸Šçš„æ•°çš„å€¼
{
    // è®¾ç½®ç»“æŸé€’å½’çš„é™åˆ¶æ¡ä»¶(å³ï¼Œé€’å½’çš„å‡ºå£)
    if (index == 1 || index == 2)
    {
        return 1;
    }
    // F(index) = F(index-1) + F(index-2)
    return fibonacci(index - 1) + fibonacci(index - 2);
}

int main()
{
	int fibonacci(int index);
    int i;
    for (i = 1; i <= 10; i++)    // è¾“å‡ºå‰ 10 ä¸ªæ•°
    {
        printf("%d ", fibonacci(i));
    }
    printf("\n");
    system("pause");
    return 0;
}
```

## 4. è®¡ç®—å­—ç¬¦ä¸²ï¼ˆé•¿å­—ç¬¦ä¸²ï¼‰ä¸­å­ä¸²ï¼ˆå³çŸ­å­—ç¬¦ä¸²ï¼‰å‡ºç°çš„æ¬¡æ•°

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main()
{
    int count(char *str1, int len1, char *str2, int len2);
    char str1[100];
    char str2[100];
    printf("è¯·è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š\n");
    scanf("%s%s", str1, str2);
    int len1 = strlen(str1), len2 = strlen(str2);
    printf("å­ä¸²å‡ºç°äº†%dæ¬¡\n", count(str1, len1, str2, len2));
    system("pause");
    return 0;
}

int count(char *str1, int len1, char *str2, int len2)
{
    int i, j;
    int count = 0;
    if (len1 >= len2)
    {
        for (i = 0; i < len1; i++)
        {
            for (j = 0; j < len2; j++)
            {
                if (*(str1 + i) != *(str2 + i)) // éå†å­ä¸²ä¸çˆ¶ä¸²ä¸€ä¸€æ¯”è¾ƒï¼Œåªè¦æœ‰ä¸åŒå°±è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                {
                    break;
                }
            }
            if (j == len2) // å¦‚æœå­ä¸²éå†çš„å¾ªç¯å®Œæ•´å®Œæˆä¸€è½®ï¼Œä»£è¡¨ç¬¦åˆé¢˜ç›®æ¡ä»¶ï¼Œåˆ™è®¡æ•°ä¸€æ¬¡
            {
                count++;
            }
        }
    }
    else
    {
        for (i = 0; i < len2; i++)
        {
            for (j = 0; j < len1; j++)
            {
                if (*(str2 + i) != *(str1 + i))
                {
                    break;
                }
            }
            if (j == len1)
            {
                count++;
            }
        }
    }
    return count;
}
```

## 5. ä¸ä½¿ç”¨ç¬¬ä¸‰ä¸ªå˜é‡çš„æƒ…å†µä¸‹ï¼Œäº¤æ¢å˜é‡ a å’Œå˜é‡ b çš„å€¼

> æ–¹æ³• 1ï¼šä½¿ç”¨å¼‚æˆ– â€œ^â€

```cpp
#include <stdio.h>
#include <stdlib.h>
int main()
{
    int a, b;
    scanf("%d%d", &a, &b);
    printf("ä½ è¾“å…¥çš„a=%d, b=%d\n", a, b);
    a = a ^ b;
    b = a ^ b; // => b = a^b^b = a^0 = a
    a = a ^ b; // => a = a^b^b(ç­‰äºæœ€å¼€å§‹çš„a) = a^b^a = a^a^b = 0^b = b
    printf("äº¤æ¢åçš„a=%d, b=%d\n", a, b);
    system("pause");
    return 0;
}
```

> æ–¹æ³• 2ï¼šæ±‚å’Œåç›¸å‡

```cpp
#include <stdio.h>
#include <stdlib.h>
int main()
{
    int a, b;
    scanf("%d%d", &a, &b);
    printf("ä½ è¾“å…¥çš„a=%d, b=%d\n", a, b);
    a = a + b;
    b = a - b; // => b = a+b-b = a
    a = a - b; // => a = a+b-b(ç­‰äºæœ€å¼€å§‹çš„a) = a+b-a = b
    printf("äº¤æ¢åçš„a=%d, b=%d\n", a, b);
    system("pause");
    return 0;
}
```

> æ–¹æ³• 3ï¼šå®å®šä¹‰

```cpp
#include <stdio.h>
#include <stdlib.h>
#define OVERTURN(a, b) \
    {                  \
        a = a + b;     \
        b = a - b;     \
        a = a - b;     \
    }

int main()
{
    int a, b;
    scanf("%d%d", &a, &b);
    OVERTURN(a, b);
    printf("%d %d\n", a, b);
    system("pause");
    return 0;
}
```

## 6. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void DeleteChar(char *str, char c)
{
    int str_len = strlen(str);
    int j = 0;
    for (int i = 0; i < str_len; i++)
    {
        if (str[i] != c) //éå†å­—ç¬¦ä¸²ï¼Œå½“æœªé‡åˆ°æƒ³è¦åˆ é™¤çš„å­—ç¬¦æ—¶ï¼Œå°†å­—ç¬¦ä¸²é‡æ–°ä¾æ¬¡æ’åºï¼ˆå³iå’ŒjåŒæ—¶è‡ªå¢ï¼‰ï¼›åä¹‹ï¼Œå¦‚æœé‡åˆ°ï¼Œåˆ™é€‰æ‹©è·³è¿‡ï¼ˆå³iè‡ªå¢ï¼Œjä¸å˜ï¼‰
        {
            str[j] = str[i];
            j++;
        }
    }
    str[j] = '\0';
}

void DeleteChar(char *str, char c)
{
    int i, j;
    for (i = 0; i < (int)strlen(str); i++)
    {
        if (str[i] == c)  //éå†å­—ç¬¦ä¸²ï¼Œå½“é‡åˆ°æƒ³è¦åˆ é™¤çš„å­—ç¬¦æ—¶ï¼Œå°†å­—ç¬¦åé¢çš„æ‰€æœ‰å­—ç¬¦å‘å‰æŒªä¸€ä½å®ç°åˆ é™¤æ•ˆæœ
        {
            for (j = i; j < (int)strlen(str); j++)
            {
                str[j] = str[j + 1];
            }
        }
    }
}

int main()
{
    char str[1024];
    printf("è¾“å…¥ä¸€æ®µå­—ç¬¦ä¸²:");
    gets(str); //ä¸ç”¨scanfï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°â€œä¸ºä»€ä¹ˆç”¨`strlen()`ä¸èƒ½ç®—å‡ºç©ºæ ¼â€åŒç±»é—®é¢˜å‡ºç°
    char c;
    printf("è¾“å…¥ä½ æƒ³åœ¨å­—ç¬¦ä¸²ä¸­åˆ é™¤çš„æŸä¸€ä¸ªå­—ç¬¦:");
    scanf("%c", &c);
    DeleteChar(str, c);
    printf("%s\n", str);
    system("pause");
    return 0;
}
```

## 7. åº”ç”¨æšä¸¾å˜é‡è¾“å‡ºæ˜ŸæœŸä¸€ï½æ˜ŸæœŸæ—¥

```cpp
#include <stdio.h>
#include <stdlib.h>
enum week
{
    Mon = 1,
    Tue,
    Wed,
    Thu,
    Fri,
    Sat,
    Sun
} day;

int main()
{
    scanf("%d", &day);
    switch (day)
    {
    case Mon:
        puts("Monday");
        break;
    case Tue:
        puts("Tuesday");
        break;
    case Wed:
        puts("Wednesday");
        break;
    case Thu:
        puts("Thursday");
        break;
    case Fri:
        puts("Friday");
        break;
    case Sat:
        puts("Saturday");
        break;
    case Sun:
        puts("Sunday");
        break;
    default:
        puts("Error!");
    }
    system("pause");
    return 0;
}
```

## 8. ç»“æ„ä½“å’Œç»“æ„ä½“æŒ‡é’ˆ

> ç»“æ„ä½“å£°æ˜å’Œåˆå§‹åŒ–æ–¹æ³• 1â€“åœ¨ä¸»å‡½æ•°å†…ç›´æ¥èµ‹å€¼

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
struct Fruit
{
    char name[20];
    char colour[20];
    float price;
};

int main()
{
    struct Fruit fruit;
    strcpy(fruit.name, "Apple");
    strcpy(fruit.colour, "Red");
    fruit.price = 2.5;
    printf("name: %s,colur: %s,price:%.2f\n", fruit.name, fruit.colour, fruit.price);
    system("pause");
    return 0;
}
```

> ç»“æ„ä½“å£°æ˜å’Œåˆå§‹åŒ–æ–¹æ³• 2â€“ç›´æ¥åœ¨ä¸»å‡½æ•°å£°æ˜å¤„åˆå§‹åŒ–

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
struct Fruit
{
    char name[20];
    char colour[20];
    float price;
};

int main()
{
    struct Fruit fruit = {"Apple", "Red", 2.5};
    printf("name: %s,colur: %s,price:%.2f\n", fruit.name, fruit.colour, fruit.price);
    system("pause");
    return 0;
}
```

> ç»“æ„ä½“å£°æ˜å’Œåˆå§‹åŒ–æ–¹æ³• 3â€“åº”ç”¨ç»“æ„ä½“æŒ‡é’ˆæ„é€ è¾“å…¥è¾“å‡ºå‡½æ•°å®ç°ç»“æ„ä½“çš„æ•°ç»„åŒ–è¾“å…¥å’Œè¾“å‡º

```cpp
#include <stdio.h>
#include <stdlib.h>
#define NUM 3  //å®šä¹‰éœ€è¦è¾“å…¥çš„æ•°é‡
struct student  //å£°æ˜ç»“æ„ä½“
{
    char name[20];
    char sex[5];
    int age;
};
void Input(struct student *stu)  //æ„é€ è¾“å…¥å‡½æ•°
{
    for (int i = 0; i < NUM; i++)
    {
        scanf("%s%s%d", stu[i].name, stu[i].sex, &stu[i].age);
    }
}
void Output(struct student *stu)  //æ„é€ è¾“å‡ºå‡½æ•°
{
    for (int i = 0; i < NUM; i++)
    {
        printf("å§“å:%s  æ€§åˆ«:%s  å¹´é¾„:%d\n", stu[i].name, stu[i].sex, stu[i].age);
    }
}
int main()
{
    struct student stu[NUM];
    void Input(struct student * stu);
    void Output(struct student * stu);
    printf("è¯·è¾“å…¥å­¦ç”Ÿå§“åã€æ€§åˆ«å’Œå¹´é¾„ï¼š\n");
    Input(stu);
    Output(stu);
    system("pause");
    return 0;
}
```

> ç»“æ„ä½“å£°æ˜å’Œåˆå§‹åŒ–æ–¹æ³• 4â€“ç›´æ¥åœ¨ç»“æ„ä½“å£°æ˜å¤„åˆå§‹åŒ–

```cpp
#include <stdio.h>
#include <stdlib.h>

struct stu // è‡ªå®šä¹‰ç»“æ„ä½“åŒ…å«å§“åå’Œåˆ†æ•°ï¼›
{
	char name[20];
	int grades;
} stu[3] = {"å¼ ä¸‰", 65, "æå››", 75, "ç‹éº»å­", 90}; // åˆå§‹åŒ–3ä¸ªäººå’Œå„è‡ªå¾—åˆ†

int main()
{
	struct stu *p = stu;  // å£°æ˜æŒ‡é’ˆpæŒ‡å‘stu
	struct stu *q = NULL; // å£°æ˜æŒ‡é’ˆq,èµ‹äºˆç©ºå€¼
	int i;
	int max_grades = 0;		// å£°æ˜ä¸€ä¸ªæœ€é«˜åˆ†æ•°èµ‹åˆå€¼ä¸º0
	for (i = 0; i < 3; i++) // éå†ç»“æ„ä½“ä¸­æ¯ä¸ªäººçš„åˆ†æ•°
	{
		if (p->grades > max_grades) // å¦‚æœåä¸€ä¸ªäººåˆ†æ•°æ¯”å‡å®šçš„æœ€å¤§å€¼å¤§çš„è¯å°±èµ‹å€¼ç»™æœ€å¤§å€¼
		{
			max_grades = p->grades;
			q = p; // å½“æ‰¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œå°†å¯¹åº”çš„åœ°å€èµ‹ç»™æŒ‡é’ˆq
		}
		p++;
	}

	printf("å§“åï¼š%s å¾—åˆ†ï¼š%d\n", q->name, q->grades);
	system("pause");
	return 0;
}
```

> ç»“æ„ä½“åº”ç”¨å®ä¾‹â€“æ™¯åŒºé—¨ç¥¨æ¡ˆä¾‹ï¼š
>
> - ä¸€ä¸ªæ™¯åŒºæ ¹æ®æ¸¸äººçš„å¹´é¾„æ”¶å–ä¸ä¸€æ ·ä»·æ ¼çš„é—¨ç¥¨
> - è¯·æ ¹æ®æ¸¸äººç»“æ„ä½“ï¼ˆVisitorï¼‰, æ ¹æ®å¹´é¾„æ®µå†³å®šå¯ä»¥è´­ä¹°çš„é—¨ç¥¨ä»·æ ¼å¹¶è¾“å‡º
> - è§„åˆ™ï¼šå¹´é¾„ > 18, é—¨ç¥¨ä¸º 20 å…ƒï¼Œå…¶ä½™çŠ¶å†µå…è´¹
> - èƒ½å¤Ÿå¾ªç¯ä»æ§åˆ¶å°è¾“å…¥åå­—å’Œå¹´é¾„ï¼Œæ‰“å°é—¨ç¥¨æ”¶è´¹çŠ¶å†µï¼Œè‹¥æ˜¯åå­—è¾“å…¥ nï¼Œåˆ™é€€å‡ºç¨‹åº

```cpp
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct Visitor // å®šä¹‰ç»“æ„ä½“
{
    char name[20];
    int age;
    int price;
};

void visitor_ticket(struct Visitor *visitor) // å®šä¹‰ç¥¨ä»·åˆ¤æ–­å‡½æ•°
{
    if (visitor->age > 18)
    {
        visitor->price = 20;
    }
    else
    {
        visitor->price = 0;
    }
}

int main()
{
    struct Visitor visitor;
    while (1)
    {
        printf("è¯·è¾“å…¥å§“åï¼š");
        gets(visitor.name);             // ç”¨getsè€Œä¸ç”¨scanfæ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·åœ¨è¾“å…¥ç©ºæ ¼æ—¶ï¼Œscanfä¸èƒ½å®Œå…¨è¯»å–è¾“å…¥å†…å®¹
        if (!strcmp(visitor.name, "n")) // å¦‚æœè¾“å…¥â€œnâ€ï¼Œåˆ™strcmp(visitor.name, "n")ç»“æœä¸º0ï¼Œåˆ¤æ–­"!0"å³ä¸ºçœŸï¼Œåˆ™é€€å‡ºç¨‹åº
        {
            printf("é€€å‡ºç¨‹åº\n");
            break;
        }
        printf("è¯·è¾“å…¥å¹´é¾„ï¼š");
        scanf("%d", &visitor.age);
        visitor_ticket(&visitor); // æ³¨æ„ï¼Œè‡ªå®šä¹‰çš„ç¥¨ä»·åˆ¤æ–­å‡½æ•°å½¢å‚æ˜¯ç»“æ„ä½“æŒ‡é’ˆï¼Œå› æ­¤åœ¨æ­¤å¤„éœ€è¦å–åœ°å€
        printf("ç¥¨ä»·ä¸º%då…ƒ\n", visitor.price);
        getchar(); // å¸æ”¶æ‰printfå‡½æ•°çš„æ¢è¡Œç¬¦
    }
    system("pause");
    return 0;
}
```

> å¾ˆå¤šæ—¶å€™ï¼Œåœ¨å¯¹ç»“æ„ä½“è¿›è¡Œç›¸åº”çš„ç¼–ç æ—¶ï¼Œæ—¶è€Œå‘ç°æ˜¯ç”¨ç‚¹è¿ç®—ç¬¦ (.)ï¼Œæ—¶è€Œæ˜¯ç”¨ç®­å¤´è¿ç®—ç¬¦ ( -> )ï¼›é‚£ä¹ˆè¿™ä¸¤è€…ä¹‹é—´çš„ä½¿ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«ä¹ˆï¼Ÿ

- ç›¸åŒç‚¹ï¼šä¸¤è€…éƒ½æ˜¯äºŒå…ƒæ“ä½œç¬¦ï¼Œè€Œä¸”å³è¾¹çš„æ“ä½œæ•°éƒ½æ˜¯æˆå‘˜çš„åç§°ã€‚
- ä¸åŒç‚¹ï¼šç‚¹è¿ç®—ç¬¦ (.) çš„å·¦è¾¹æ“ä½œæ•°æ˜¯ä¸€ä¸ªç»“æœä¸ºç»“æ„çš„è¡¨è¾¾å¼ï¼› ç®­å¤´è¿ç®—ç¬¦ ( -> ) çš„å·¦è¾¹çš„æ“ä½œæ•°æ˜¯ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆã€‚

ä¾‹å¦‚ï¼š

```cpp
typedef struct          // å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ç±»å‹ï¼šDATA
{
    char key[10];       // ç»“æ„ä½“æˆå‘˜ï¼škey
    char name[20];      // ç»“æ„ä½“æˆå‘˜ï¼šname
    int age;            // ç»“æ„ä½“æˆå‘˜ï¼šage
}DATA;
    
DATA data;              // å£°æ˜ä¸€ä¸ªç»“æ„ä½“å˜é‡
DATA *pdata;            // å£°æ˜ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ
    
// è®¿é—®æ•°æ®æ“ä½œå¦‚ä¸‹ï¼š
data.age = 24;          // ç»“æ„ä½“å˜é‡é€šè¿‡ç‚¹è¿ç®—ç¬¦( . )è®¿é—®
pdata->age = 24;        // æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆé€šè¿‡ç®­å¤´è¿ç®—ç¬¦( -> )è®¿é—®
```

## 9. å…±ç”¨ä½“

> å…±ç”¨ä½“çš„å£°æ˜æ–¹æ³•å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```cpp
union data
{
    int n;
    char ch;
    double f;
};
union data a,b,c;

union data
{
    int n;
    char ch;
    double f;
}a,b,c;

union
{
    int n;
    char ch;
    double f;
}a,b,c;

union data
{
    int n;   // å ç”¨4ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´
    char ch; // å ç”¨1ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´
    short m; // å ç”¨2ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´
};
int main()
{
    union data a;
    printf("%llu,%llu\n", sizeof(a), sizeof(union data));
    a.n = 0x40;
    printf("%d,%c,%d\n", a.n, a.ch, a.m);
    a.ch = '9';
    printf("%d,%c,%d\n", a.n, a.ch, a.m);
    a.m = 0x2059;
    printf("%d,%c,%d\n", a.n, a.ch, a.m);
    a.n = 0x3E25AD54;
    printf("%d,%c,%d\n", a.n, a.ch, a.m);
}
```

ä¸Šé¢å®šä¹‰çš„å…±ç”¨ä½“è¾“å‡ºç»“æœä¸ºï¼š

```css
4,4
64,@,64
57,9,57
8281,Y,8281
1042656596,T,-21164
```

**å‡ºç°ä¸Šè¿°è¾“å‡ºç»“æœçš„åŸå› æ˜¯ï¼šæˆå‘˜ n,ch,m, åœ¨å†…å­˜ä¸­ "å¯¹é½" åˆ°ä¸€å¤´ï¼Œå¯¹ ch èµ‹å€¼ä¿®æ”¹çš„æ˜¯å‰ä¸€ä¸ªå­—èŠ‚ï¼Œå¯¹ m èµ‹å€¼ä¿®æ”¹çš„æ˜¯å‰ä¸¤ä¸ªå­—èŠ‚ï¼Œå¯¹ n èµ‹å€¼ä¿®æ”¹çš„æ˜¯æ‰€æœ‰å­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œch,m ä¼šå½±å“åˆ° n çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè€Œ n ä¼šå½±å“åˆ° ch,m çš„æ‰€æœ‰æ•°æ®ã€‚**

## 10. å…±ç”¨ä½“å’Œç»“æ„ä½“çš„åŒºåˆ«

- **å˜é‡é•¿åº¦ä¸åŒ**

ç»“æ„ä½“å˜é‡æ‰€å å†…å­˜é•¿åº¦æ˜¯å„æˆå‘˜å çš„å†…å­˜é•¿åº¦ä¹‹å’Œï¼Œæ¯ä¸ªæˆå‘˜åˆ†åˆ«å æœ‰å…¶è‡ªå·±çš„å†…å­˜å•å…ƒã€‚

å…±ç”¨ä½“å˜é‡æ‰€å çš„å†…å­˜é•¿åº¦ç­‰äºæœ€é•¿çš„æˆå‘˜çš„é•¿åº¦ã€‚

- **å ç”¨ç©ºé—´ä¸åŒ**

ç»“æ„ä½“æ˜¯åŒæ—¶å­˜åœ¨çš„ï¼Œå¹¶ä¸€æ¬¡å ç”¨ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼›

è€Œå…±ç”¨ä½“åˆ™æ˜¯å¤šä¸ªå…±ç”¨æˆå‘˜å ç”¨åŒä¸€ä¸ªå¼€å§‹çš„å†…å­˜åœ°å€ï¼ŒåŒæ—¶ä»–ä»¬åªèƒ½å­˜åœ¨ä¸€å„ï¼Œæ‰€ä»¥ç©ºé—´å¤§å°å°±æ˜¯æœ€å¤§é‚£ä¸ªæ‰€éœ€çš„ç©ºé—´ï¼Œå¦‚æœå•ä»ä¸€ä¸ªå…±ç”¨ä½“æ¥è®²ï¼Œæˆ‘ä»¬æ˜¯ä¸çŸ¥é“é‡Œé¢å­˜çš„æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œéœ€è¦æ ¹æ®ç¨‹åºä¸Šä¸‹æ–‡æ‰èƒ½ç¡®å®šã€‚

![](https://bu.dusays.com/2024/12/08/67552133426e0.png)

- **åˆ†é…å‚¨å­˜ç©ºé—´ä¸åŒ**

ç»“æ„ä½“æ˜¯ç”±ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒç±»å‹æˆ–ä¸åŒç±»å‹çš„æ•°æ®æ„æˆçš„æ•°æ®é›†åˆï¼Œç®€ç§°ç»“æ„ã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œå¯ä»¥å®šä¹‰ç»“æ„ä½“ç±»å‹ï¼Œå°†å¤šä¸ªç›¸å…³çš„å˜é‡åŒ…è£…æˆä¸ºä¸€ä¸ªæ•´ä½“æ¥ä½¿ç”¨ã€‚åœ¨ç»“æ„ä½“ä¸­çš„å˜é‡ï¼Œå¯ä»¥æ˜¯ç›¸åŒã€éƒ¨åˆ†ç›¸åŒï¼Œæˆ–å®Œå…¨ä¸åŒçš„æ•°æ®ç±»å‹ã€‚

ç»“æ„ä½“ç±»å‹çš„å®šä¹‰åªæ˜¯ç”±ç”¨æˆ·æ„é€ äº†ä¸€ä¸ªç»“æ„ä½“ï¼Œä½†å®šä¹‰ç»“æ„ä½“ç±»å‹æ—¶ç³»ç»Ÿå¹¶ä¸ä¸ºå…¶åˆ†é…å­˜å‚¨ç©ºé—´ã€‚

- **ä¿®æ”¹æŸä¸€æˆå‘˜åé€ æˆçš„ç»“æœä¸åŒ**

ç»“æ„ä½“çš„å„ä¸ªæˆå‘˜ä¼šå ç”¨ä¸ä¸€æ ·çš„å†…å­˜ï¼Œäº’ç›¸ä¹‹é—´æ²¡æœ‰å½±å“ï¼›è€Œå…±ç”¨ä½“çš„å…¨éƒ¨æˆå‘˜å ç”¨åŒä¸€æ®µå†…å­˜ï¼Œä¿®æ”¹ä¸€ä¸ªæˆå‘˜ä¼šå½±å“å…¶ä»–å…¨éƒ¨æˆå‘˜ã€‚

> å…±ç”¨ä½“å’Œç»“æ„ä½“å…±åŒåº”ç”¨å®ä¾‹ï¼š

```cpp
#include <stdio.h>
#include <stdlib.h>
#define NUM 2 // äººå‘˜æ€»æ•°

struct Person // å®šä¹‰ä¸€ä¸ªç»“æ„ä½“Person
{
    char name[20];
    int num;
    char sex;
    char profession;
    union Union // å®šä¹‰ä¸€ä¸ªå…±ç”¨ä½“Union
    {
        float score;
        char course[20];
    } sc; // scæ˜¯ä¸€ä¸ªå…±ç”¨ä½“å˜é‡
};
int main()
{
    int i;
    struct Person person[NUM]; // å®šä¹‰ä¸€ä¸ªç»“æ„ä½“æ•°ç»„
    // è¾“å…¥äººå‘˜ä¿¡æ¯
    for (i = 0; i < NUM; i++)
    {
        printf("\næŒ‰ç…§å§“å ç¼–å· æ€§åˆ«(ç”·ä¸ºmï¼Œå¥³ä¸ºf) èŒä¸š(å­¦ç”Ÿä¸ºsï¼Œè€å¸ˆä¸ºt)çš„é¡ºåºè¾“å…¥ç›¸å…³ä¿¡æ¯:\n");
        scanf("%s %d %c %c", person[i].name, &(person[i].num), &(person[i].sex), &(person[i].profession));
        if (person[i].profession == 's')
        {
            printf("è¯·è¾“å…¥è¯¥å­¦ç”Ÿæˆç»©ï¼š");
            scanf("%f", &person[i].sc.score);
        }
        else if (person[i].profession == 't')
        {
            printf("è¯·è¾“å…¥è¯¥è€å¸ˆè¯¾ç¨‹ï¼š");
            scanf("%s", person[i].sc.course);
        }
        fflush(stdin); // æ¸…ç©ºè¾“å…¥ç¼“å†²åŒºï¼Œé€šå¸¸æ˜¯ä¸ºäº†ç¡®ä¿ä¸å½±å“åé¢çš„æ•°æ®è¯»å–
    }
    // è¾“å‡ºäººå‘˜ä¿¡æ¯
    printf("\nå§“å\tç¼–å·\tæ€§åˆ«\tèŒä¸š\tå¾—åˆ†\tè¯¾ç¨‹\n");
    for (i = 0; i < NUM; i++)
    {
        if (person[i].profession == 's')
        {
            printf("%s\t%d\t%c\t%c\t%.2f\n", person[i].name, person[i].num, person[i].sex, person[i].profession, person[i].sc.score);
        }
        else if (person[i].profession == 't')
        {
            printf("%s\t%d\t%c\t%c\t\t%s\n", person[i].name, person[i].num, person[i].sex, person[i].profession, person[i].sc.course);
        }
    }
    system("pause");
    return 0;
}
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```CSS
æŒ‰ç…§å§“å ç¼–å· æ€§åˆ«(ç”·ä¸ºmï¼Œå¥³ä¸ºf) èŒä¸š(å­¦ç”Ÿä¸ºsï¼Œè€å¸ˆä¸ºt)çš„é¡ºåºè¾“å…¥ç›¸å…³ä¿¡æ¯:
å¼ ä¸‰ 03 m s
è¯·è¾“å…¥è¯¥å­¦ç”Ÿæˆç»©ï¼š95

æŒ‰ç…§å§“å ç¼–å· æ€§åˆ«(ç”·ä¸ºmï¼Œå¥³ä¸ºf) èŒä¸š(å­¦ç”Ÿä¸ºsï¼Œè€å¸ˆä¸ºt)çš„é¡ºåºè¾“å…¥ç›¸å…³ä¿¡æ¯:
æå›› 02 f t
è¯·è¾“å…¥è¯¥è€å¸ˆè¯¾ç¨‹ï¼šè¯­æ–‡

å§“å    ç¼–å·    æ€§åˆ«    èŒä¸š    å¾—åˆ†    è¯¾ç¨‹
å¼ ä¸‰    3       m       s     95.00
æå››    2       f       t            è¯­æ–‡
```

# äºŒã€é—®é¢˜ç±»

## 1. ä¸ºä»€ä¹ˆç”¨ `strlen()` ä¸èƒ½ç®—å‡ºç©ºæ ¼

 é—®é¢˜å‡ºåœ¨ `scanf()`ã€‚`scanf()` å¼€å§‹è¯»å–è¾“å…¥ä»¥åï¼Œä¼šåœ¨é‡åˆ°çš„ç¬¬ä¸€ä¸ªç©ºç™½å­—ç¬¦ç©ºæ ¼ï¼ˆblankï¼‰ã€åˆ¶è¡¨ç¬¦ï¼ˆtabï¼‰æˆ–è€…æ¢è¡Œç¬¦ï¼ˆnewlineï¼‰å¤„åœæ­¢è¯»å–ã€‚å¯ä»¥ä½¿ç”¨ `scanf("%[^\n]s",a);` æ¥è§£å†³é—®é¢˜ã€‚å…¶ä¸­ `%[^\n]` æ˜¯è¯´æ˜åªæœ‰åœ¨è¯»å…¥å›è½¦ç¬¦æ—¶æ‰ç»ˆæ­¢è¯»å–ã€‚ç”¨ `getchar()` åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä¸æ–­è¯»å–å­—ç¬¦ç¼“å†²åŒºä¸­çš„å­—ç¬¦ç›´åˆ° `\n` ä¸ºæ­¢ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œå°±æ˜¯éº»çƒ¦äº†äº›ã€‚

## 2. `vscode` å¼•ç”¨è‡ªå»ºå¤´æ–‡ä»¶é—®é¢˜

vscode åœ¨å¼•ç”¨è‡ªå»ºå¤´æ–‡ä»¶æ—¶å¯èƒ½ä¼šå‡ºç° `Cannot open include file: 'Function.h': No such file or directory` çš„æç¤ºï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼šåœ¨å¼•ç”¨å¤´æ–‡ä»¶æ—¶ï¼Œå°†`#include <Function.h>` æ”¹æˆ`#include "Function.h"` å³å¯ã€‚

# ä¸‰ã€ç¼–è¯‘é”™è¯¯å’Œè­¦å‘Šç±»

## é”™è¯¯ç±»

### 1. `Segmentation fault`

æ„æ€ä¸º**æ®µé”™è¯¯**ï¼Œæ‰€è°“çš„æ®µé”™è¯¯å°±æ˜¯æŒ‡è®¿é—®çš„å†…å­˜è¶…è¿‡äº†ç³»ç»Ÿæ‰€ç»™è¿™ä¸ªç¨‹åºçš„å†…å­˜ç©ºé—´ï¼Œé€šå¸¸è¿™ä¸ªå€¼æ˜¯ç”± `gdtr` æ¥ä¿å­˜çš„ï¼Œä»–æ˜¯ä¸€ä¸ª 48 ä½çš„å¯„å­˜å™¨ï¼Œå…¶ä¸­çš„ 32 ä½æ˜¯ä¿å­˜ç”±å®ƒæŒ‡å‘çš„ `gdt` è¡¨ï¼Œå 13 ä½ä¿å­˜ç›¸åº”äº `gdt` çš„ä¸‹æ ‡ï¼Œæœ€å 3 ä½åŒ…æ‹¬äº†ç¨‹åºæ˜¯å¦åœ¨å†…å­˜ä¸­ä»¥åŠç¨‹åºçš„åœ¨ `CPU` ä¸­çš„è¿è¡Œçº§åˆ«ï¼ŒæŒ‡å‘çš„ `gdt` æ˜¯ç”±ä»¥ 64 ä½ä¸ºä¸€ä¸ªå•ä½çš„è¡¨ï¼Œåœ¨è¿™å¼ è¡¨ä¸­å°±ä¿å­˜ç€ç¨‹åºè¿è¡Œçš„ä»£ç æ®µä»¥åŠæ•°æ®æ®µçš„èµ·å§‹åœ°å€ä»¥åŠç›¸åº”çš„æ–­é™å’Œé¡µé¢äº¤æ¢è¿˜æœ‰ç¨‹åºè¿è¡Œçº§åˆ«å’Œå†…å­˜ç²’åº¦ç­‰ä¿¡æ¯ï¼Œä¸€æ—¦ä¸€ä¸ªç¨‹åºå‘ç”Ÿäº†è¶Šç•Œè®¿é—®ï¼ŒCPU å°±ä¼šäº§ç”Ÿç›¸åº”çš„å¼‚å¸¸ä¿æŠ¤ï¼Œäºæ˜¯ `segmentation fault` å°±å‡ºç°äº†ã€‚

### 2.`no 'operator++(int)' declared for postfix '++' [-fpermissive]`

æ„æ€å°±æ˜¯è‡ªå¢è¿ç®—æ²¡æœ‰å£°æ˜å¯¹åº”çš„æ•´å‹å˜é‡ã€‚æ­¤æŠ¥é”™æ˜¯æŒ‰ç…§èœé¸Ÿæ•™ç¨‹åœ¨éå†æšä¸¾å…ƒç´ æ—¶å‡ºç°çš„ï¼Œå®šä¹‰ day æ˜¯æšä¸¾å¯¹è±¡ï¼Œä¸å…è®¸ ++ æ“ä½œï¼š

```CPP
enum days
{
    Mon = 1,
    Tue,
    Wed,
    Thu,
    Fri,
    Sat,
    Sun
} day;

int main()
{
    for (day = Mon; day <= Sun; day++)
    {
        printf("æšä¸¾å…ƒç´ ï¼š%d \n", day);
    }
    system("pause");
    return 0;
}
```

ä¿®æ­£æ–¹æ³•ï¼Œé‡æ–°å£°æ˜æ–°çš„å˜é‡ `i`ï¼Œå†è¿›è¡Œéå†ï¼š

```cpp
enum days
{
    Mon = 1,
    Tue,
    Wed,
    Thu,
    Fri,
    Sat,
    Sun
} day;

int main()
{
    int i;
    for (i = Mon; i <= Sun; i++)
    {
        printf("æšä¸¾å…ƒç´ ï¼š%d \n", i);
    }
    system("pause");
    return 0;
}
```

## è­¦å‘Šç±»

### 1. `warning: control reaches end of non-void function [-Wreturn-type]`

è¿™ä¸ªæ˜¯éå¸¸æ­£ç»çš„åˆ†æï¼Œç”¨ `gcc` ç¼–è¯‘ä¸€ä¸ªç¨‹åºçš„æ—¶å€™å‡ºç°è¿™æ ·çš„è­¦å‘Šï¼š`warning: control reaches end of non-void function`. å®ƒçš„æ„æ€æ˜¯ï¼šæ§åˆ¶åˆ°è¾¾é `void` å‡½æ•°çš„ç»“å°¾ã€‚å°±æ˜¯è¯´ä½ çš„ä¸€äº›æœ¬åº”å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•°åˆ°è¾¾ç»“å°¾åå¯èƒ½å¹¶æ²¡æœ‰è¿”å›ä»»ä½•å€¼ã€‚è¿™æ—¶å€™ï¼Œæœ€å¥½æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æ¯ä¸ªæ§åˆ¶æµéƒ½ä¼šæœ‰è¿”å›å€¼ã€‚

### 2. `warning: ISO C++ forbids converting a string constant to â€˜char*â€™ [-Wwrite-strings]`

åœ¨ C++ ä¸­ï¼Œå¦‚æœåƒå¦‚ä¸‹åˆå§‹åŒ–æŒ‡é’ˆå˜é‡ï¼Œä¼šè·³å‡ºè­¦å‘Šï¼š`warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]`:

```cpp
char* p = "abc";ã€€ã€€// valid in C, invalid in C++
```

æ”¹æˆä¸‹é¢ä¼šé€šè¿‡ warning:

```cpp
char* p = (char*)"abc";  // pass
```

æˆ–è€…æ”¹æˆä¸‹é¢:

```cpp
char const *p = "abc";ã€€ã€€// pass
```

##### åŸå› è§£æï¼š

å­¦ä¹  `c` æˆ–è€… `c++` çš„æ—¶å€™éƒ½çŸ¥é“ï¼Œå¦‚æœåœ¨èµ‹å€¼æ“ä½œçš„æ—¶å€™ï¼Œç­‰å·ä¸¤è¾¹çš„å˜é‡ç±»å‹ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè¿›è¡Œä¸€ç§å«åš `implicit conversion`ï¼ˆéšå«è½¬æ¢ï¼‰çš„æ“ä½œæ¥ä½¿å¾—å˜é‡å¯ä»¥è¢«èµ‹å€¼ã€‚

åœ¨ä¸Šé¢çš„è¡¨è¾¾å¼ä¸­ç­‰å·å³è¾¹çš„ `"abc"` æ˜¯ä¸€ä¸ªä¸å˜å¸¸é‡ï¼Œåœ¨ c++ ä¸­å«åš `string literal`ï¼Œtype æ˜¯ `const char *`ï¼Œè€Œ `p` åˆ™æ˜¯ä¸€ä¸ª `char` æŒ‡é’ˆã€‚å¦‚æœå¼ºè¡Œèµ‹å€¼ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯å°†å³è¾¹çš„å¸¸é‡å¼ºåˆ¶ç±»å‹è½¬æ¢æˆä¸€ä¸ªæŒ‡é’ˆï¼Œç»“æœå°±æ˜¯æˆ‘ä»¬åœ¨ä¿®æ”¹ä¸€ä¸ª `const` å¸¸é‡ã€‚ç¼–è¯‘è¿è¡Œçš„ç»“æœä¼šå› ç¼–è¯‘å™¨å’Œæ“ä½œç³»ç»Ÿå…±åŒå†³å®šï¼Œæœ‰çš„ç¼–è¯‘å™¨ä¼šé€šè¿‡ï¼Œæœ‰çš„ä¼šæŠ›å¼‚å¸¸ï¼Œå°±ç®—è¿‡äº†ä¹Ÿå¯èƒ½å› ä¸ºæ“ä½œç³»ç»Ÿçš„æ•æ„Ÿæ€§è€Œè¢«æ€æ‰ã€‚

åƒè¿™ç§ç›´æ¥å°†å­—ç¬¦ä¸²èµ‹å€¼ç»™æŒ‡é’ˆçš„æ“ä½œè¢«å¼€å‘è€…ä»¬è®¤ä¸ºæ˜¯ `deprecated`(æåŠ›åå¯¹çš„)ï¼Œåªä¸è¿‡ç”±äºä»¥å‰å¾ˆå¤šä»£ç éƒ½æœ‰è¿™ç§ä¹ æƒ¯ï¼Œä¸ºäº†å…¼å®¹ï¼Œå°±ä¿ç•™ä¸‹æ¥äº†ã€‚

### 3. `warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]`

**è­¦å‘Šï¼šä»ä¸åŒå¤§å°çš„æ•´æ•° [-Wint-to-pointer-cast] è½¬æ¢ä¸ºæŒ‡é’ˆ**

##### åŸå› è§£æï¼š

- åˆ›å»ºå­çº¿ç¨‹æ—¶å› ä¸ºæœ€åä¸€ä¸ªå‚æ•°éœ€è¦æ˜¯æŒ‡å‘å­çº¿ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦`ï¼ˆintç±»å‹ï¼‰`çš„æŒ‡é’ˆï¼Œå› æ­¤è°ƒç”¨æ—¶æˆ‘ä»¬ä¼šå°†æ–‡ä»¶æè¿°ç¬¦å¼ºè½¬ä¸º `(void *)ç±»å‹`ï¼Œå¯èƒ½æ˜¯ç³»ç»Ÿä¸åŒçš„åŸå› åœ¨ `intç±»å‹`å¼ºè½¬ä¸º `voidç±»å‹`æŒ‡é’ˆä¼šå‡ºç°ä¸Šè¿°è­¦å‘Šã€‚
- é€šè¿‡ `sizeof(void *)` å’Œ `sizeof(int)` çš„è¾“å‡ºå®ƒä»¬çš„å¤§å°åˆ†åˆ«ä¸º **8** å’Œ **4**(ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸ä¸€æ ·) æ‰€ä»¥ç¼–è¯‘åæ‰å‡ºç° `int` åˆ° `(void *)` è½¬æ¢å¤§å°ä¸åŒ¹é…ã€‚
- è§£å†³åŠæ³•æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥åœ¨å£°æ˜å˜é‡æ—¶å°† `int` å‹æ”¹ä¸º `long` å‹ï¼Œæˆ–è€…å¯ä»¥å°† `(void *)` æ”¹ä¸º `&`ã€‚

# å››ã€å¸¸ç”¨è¯­æ³•ç±»

## 1.C è¯­è¨€ä¸­å¸¸è§çš„åŠ¨æ€å†…å­˜ç”³è¯·å‡½æ•°ï¼ˆmallocã€callocã€reallocï¼‰

malloc çš„å®šä¹‰ï¼š

> è¯¥å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•° sizeï¼Œé€šè¿‡æ­¤å‚æ•°å‘å †åŒºç”³è¯· size å¤§å°å­—èŠ‚çš„è¿ç»­ç©ºé—´ï¼ˆè¯¥å‡½æ•°ä¸å¯¹ç”³è¯·çš„ç©ºé—´çš„æ•°å€¼åšåˆå§‹åŒ–ï¼‰ã€‚
> è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥ç©ºé—´èµ·å§‹å¤„çš„ void * ç±»å‹çš„æŒ‡é’ˆï¼Œå½“ç©ºé—´ç”³è¯·å¤±è´¥æ—¶ä¼šè¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆã€‚
> å¦‚æœ size ä¸º 0ï¼Œmalloc çš„è¡Œä¸ºæ˜¯ä¸ç¡®å®šçš„ï¼Œå–å†³äºç¼–è¯‘å™¨ã€‚

```cpp
int *p = (int *)malloc(40);  //å›ºå®šé•¿åº¦
int *p = (int *)malloc(n*sizeof(int));  //åŠ¨æ€é•¿åº¦ï¼Œä¸å˜é‡næœ‰å…³
```